"""
@generated by mypy-protobuf.  Do not edit manually!
isort:skip_file
"""

import builtins
import collections.abc
import fm.llm_data_pb2
import google.protobuf.descriptor
import google.protobuf.duration_pb2
import google.protobuf.internal.containers
import google.protobuf.message
import google.protobuf.timestamp_pb2
import pb.v1alpha1.document_pb2
import pb.v1alpha1.element_pb2
import pb.v1alpha1.orbot_action_pb2
import typing

DESCRIPTOR: google.protobuf.descriptor.FileDescriptor

@typing.final
class AgentState(google.protobuf.message.Message):
    """Tentative, information about the decision made by the agent."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    LLM_INTERACTIONS_FIELD_NUMBER: builtins.int
    MEMORY_FIELD_NUMBER: builtins.int
    PREVIOUS_FAILED_AGENT_STATE_FIELD_NUMBER: builtins.int
    memory: builtins.str
    """the memory of the agent, can be a string or a jsonified object"""
    @property
    def llm_interactions(
        self,
    ) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[
        fm.llm_data_pb2.LLMInteraction
    ]:
        """the list of queries made by the agent"""

    @property
    def previous_failed_agent_state(self) -> global___AgentState:
        """the linked list of agent state that did not get grounded into an action at this step"""

    def __init__(
        self,
        *,
        llm_interactions: (
            collections.abc.Iterable[fm.llm_data_pb2.LLMInteraction] | None
        ) = ...,
        memory: builtins.str = ...,
        previous_failed_agent_state: global___AgentState | None = ...,
    ) -> None: ...
    def HasField(
        self,
        field_name: typing.Literal[
            "previous_failed_agent_state", b"previous_failed_agent_state"
        ],
    ) -> builtins.bool: ...
    def ClearField(
        self,
        field_name: typing.Literal[
            "llm_interactions",
            b"llm_interactions",
            "memory",
            b"memory",
            "previous_failed_agent_state",
            b"previous_failed_agent_state",
        ],
    ) -> None: ...

global___AgentState = AgentState

@typing.final
class Viewport(google.protobuf.message.Message):
    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    SCREENSHOT_FIELD_NUMBER: builtins.int
    VIEWPORT_RECT_FIELD_NUMBER: builtins.int
    @property
    def screenshot(self) -> pb.v1alpha1.document_pb2.DocumentBlob:
        """the viewport screenshot"""

    @property
    def viewport_rect(self) -> pb.v1alpha1.element_pb2.Rect:
        """the "bounding box" of the viewport"""

    def __init__(
        self,
        *,
        screenshot: pb.v1alpha1.document_pb2.DocumentBlob | None = ...,
        viewport_rect: pb.v1alpha1.element_pb2.Rect | None = ...,
    ) -> None: ...
    def HasField(
        self,
        field_name: typing.Literal[
            "screenshot", b"screenshot", "viewport_rect", b"viewport_rect"
        ],
    ) -> builtins.bool: ...
    def ClearField(
        self,
        field_name: typing.Literal[
            "screenshot", b"screenshot", "viewport_rect", b"viewport_rect"
        ],
    ) -> None: ...

global___Viewport = Viewport

@typing.final
class BrowserGymObservation(google.protobuf.message.Message):
    """The raw representation of a web page observation from BrowserGym.
    Fields overlapping with existing fields in WebState are removed.
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    @typing.final
    class ChatMessage(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor

        ROLE_FIELD_NUMBER: builtins.int
        TIMESTAMP_FIELD_NUMBER: builtins.int
        MESSAGE_FIELD_NUMBER: builtins.int
        role: builtins.str
        """the identity of entity sending the message"""
        message: builtins.str
        """the content of the message"""
        @property
        def timestamp(self) -> google.protobuf.timestamp_pb2.Timestamp:
            """the timestamp of the message; from python time.time()"""

        def __init__(
            self,
            *,
            role: builtins.str = ...,
            timestamp: google.protobuf.timestamp_pb2.Timestamp | None = ...,
            message: builtins.str = ...,
        ) -> None: ...
        def HasField(
            self, field_name: typing.Literal["timestamp", b"timestamp"]
        ) -> builtins.bool: ...
        def ClearField(
            self,
            field_name: typing.Literal[
                "message", b"message", "role", b"role", "timestamp", b"timestamp"
            ],
        ) -> None: ...

    REWARD_FIELD_NUMBER: builtins.int
    TERMINATED_FIELD_NUMBER: builtins.int
    TRUNCATED_FIELD_NUMBER: builtins.int
    CHAT_MESSAGES_FIELD_NUMBER: builtins.int
    LEGACY_GOAL_FIELD_NUMBER: builtins.int
    GOALS_FIELD_NUMBER: builtins.int
    OPEN_PAGES_URLS_FIELD_NUMBER: builtins.int
    ACTIVE_PAGE_INDEX_FIELD_NUMBER: builtins.int
    DOM_FIELD_NUMBER: builtins.int
    AXTREE_FIELD_NUMBER: builtins.int
    EXTRA_ELEMENT_PROPERTIES_FIELD_NUMBER: builtins.int
    FOCUSED_ELEMENT_BID_FIELD_NUMBER: builtins.int
    LAST_ACTION_FIELD_NUMBER: builtins.int
    LAST_ACTION_ERROR_FIELD_NUMBER: builtins.int
    ELAPSED_TIME_FIELD_NUMBER: builtins.int
    reward: builtins.float
    """BrowserGym environment output
    See https://github.com/orby-ai-engineering/digital-agent/blob/d9d62cce50828d2628ea2c1334824165e2a352ee/scripts/test_run.py#L104
    the reward of the current state from BrowserGym
    """
    terminated: builtins.bool
    """Whether this is a terminal state"""
    truncated: builtins.bool
    """Whether the observation is truncated"""
    legacy_goal: builtins.str
    """goal represented as a string; deprecated in favor of goals by BrowserGym"""
    active_page_index: builtins.int
    """the indices of the open pages in the browser"""
    dom: builtins.str
    """the DOMTree representation of the page from BrowserGym, encoded by json.dumps(dom_object)"""
    axtree: builtins.str
    """the accessibility tree of the page from BrowserGym, encoded by json.dumps(axtree_object)"""
    extra_element_properties: builtins.str
    """The extra properties on each element with a browsergym_id (bid) padded by BrowserGym,
    Created by browsergym.core.src.browsergym.core.obeservation.extract_dom_extra_properties
    Extra information include:
    - absolute x and position of the frame node in the parent
    - frame's absolute position
    - browsergym_id of each element
    - visibility of each element
    - bounding box of each element
    - whether the element is clickable
    - set_of_marks ? of each element
    Encoded by json.dumps(extra_element_properties)
    """
    focused_element_bid: builtins.str
    """the browser gym ID of the focused element in the DOMTree, or null if no element is focused"""
    last_action: builtins.str
    """the last action taken by the agent"""
    last_action_error: builtins.str
    """the error message of the last action"""
    @property
    def chat_messages(
        self,
    ) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[
        global___BrowserGymObservation.ChatMessage
    ]:
        """the chat messages observed at this state"""

    @property
    def goals(
        self,
    ) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[
        fm.llm_data_pb2.LLMContent
    ]:
        """the goals the agent needs to reach in the environment"""

    @property
    def open_pages_urls(
        self,
    ) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.str]:
        """the URLs of the open pages in the browser"""

    @property
    def elapsed_time(self) -> google.protobuf.duration_pb2.Duration:
        """the elapsed time from the start of the episode"""

    def __init__(
        self,
        *,
        reward: builtins.float = ...,
        terminated: builtins.bool = ...,
        truncated: builtins.bool = ...,
        chat_messages: (
            collections.abc.Iterable[global___BrowserGymObservation.ChatMessage] | None
        ) = ...,
        legacy_goal: builtins.str = ...,
        goals: collections.abc.Iterable[fm.llm_data_pb2.LLMContent] | None = ...,
        open_pages_urls: collections.abc.Iterable[builtins.str] | None = ...,
        active_page_index: builtins.int = ...,
        dom: builtins.str = ...,
        axtree: builtins.str = ...,
        extra_element_properties: builtins.str = ...,
        focused_element_bid: builtins.str = ...,
        last_action: builtins.str = ...,
        last_action_error: builtins.str = ...,
        elapsed_time: google.protobuf.duration_pb2.Duration | None = ...,
    ) -> None: ...
    def HasField(
        self, field_name: typing.Literal["elapsed_time", b"elapsed_time"]
    ) -> builtins.bool: ...
    def ClearField(
        self,
        field_name: typing.Literal[
            "active_page_index",
            b"active_page_index",
            "axtree",
            b"axtree",
            "chat_messages",
            b"chat_messages",
            "dom",
            b"dom",
            "elapsed_time",
            b"elapsed_time",
            "extra_element_properties",
            b"extra_element_properties",
            "focused_element_bid",
            b"focused_element_bid",
            "goals",
            b"goals",
            "last_action",
            b"last_action",
            "last_action_error",
            b"last_action_error",
            "legacy_goal",
            b"legacy_goal",
            "open_pages_urls",
            b"open_pages_urls",
            "reward",
            b"reward",
            "terminated",
            b"terminated",
            "truncated",
            b"truncated",
        ],
    ) -> None: ...

global___BrowserGymObservation = BrowserGymObservation

@typing.final
class WebState(google.protobuf.message.Message):
    """Information about the current state of the web page."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    FINGERPRINT_FIELD_NUMBER: builtins.int
    URL_FIELD_NUMBER: builtins.int
    HTML_FIELD_NUMBER: builtins.int
    VIEWPORT_FIELD_NUMBER: builtins.int
    ROOT_ELEMENT_FIELD_NUMBER: builtins.int
    BROWSER_GYM_OBSERVATION_FIELD_NUMBER: builtins.int
    ROOT_ELEMENT_WRAPPER_FIELD_NUMBER: builtins.int
    fingerprint: builtins.str
    """the fingerprint of the page generated as a random hash (uuid.uuid4()[:SOME_CUTOFF])"""
    url: builtins.str
    """the URL of the page"""
    html: builtins.str
    """the HTML content of the page"""
    @property
    def viewport(self) -> global___Viewport:
        """the viewport of the page"""

    @property
    def root_element(self) -> pb.v1alpha1.element_pb2.Element:
        """the dom tree of the page; deprecated in favor of root_element_wrapper"""

    @property
    def browser_gym_observation(self) -> global___BrowserGymObservation:
        """the raw representation of a web page observation from BrowserGym"""

    @property
    def root_element_wrapper(self) -> pb.v1alpha1.element_pb2.ElementWrapper:
        """the dom tree of the page in the form of an ElementWrapper"""

    def __init__(
        self,
        *,
        fingerprint: builtins.str = ...,
        url: builtins.str = ...,
        html: builtins.str = ...,
        viewport: global___Viewport | None = ...,
        root_element: pb.v1alpha1.element_pb2.Element | None = ...,
        browser_gym_observation: global___BrowserGymObservation | None = ...,
        root_element_wrapper: pb.v1alpha1.element_pb2.ElementWrapper | None = ...,
    ) -> None: ...
    def HasField(
        self,
        field_name: typing.Literal[
            "browser_gym_observation",
            b"browser_gym_observation",
            "root_element",
            b"root_element",
            "root_element_wrapper",
            b"root_element_wrapper",
            "viewport",
            b"viewport",
        ],
    ) -> builtins.bool: ...
    def ClearField(
        self,
        field_name: typing.Literal[
            "browser_gym_observation",
            b"browser_gym_observation",
            "fingerprint",
            b"fingerprint",
            "html",
            b"html",
            "root_element",
            b"root_element",
            "root_element_wrapper",
            b"root_element_wrapper",
            "url",
            b"url",
            "viewport",
            b"viewport",
        ],
    ) -> None: ...

global___WebState = WebState

@typing.final
class BrowserGymAction(google.protobuf.message.Message):
    """The raw representation of an action from BrowserGym."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    ACTION_STRING_FIELD_NUMBER: builtins.int
    action_string: builtins.str
    """the raw string representation of the action"""
    def __init__(
        self,
        *,
        action_string: builtins.str = ...,
    ) -> None: ...
    def ClearField(
        self, field_name: typing.Literal["action_string", b"action_string"]
    ) -> None: ...

global___BrowserGymAction = BrowserGymAction

@typing.final
class ActionData(google.protobuf.message.Message):
    """Used by FM crawler to represent the action taken by the FM agent."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    ID_FIELD_NUMBER: builtins.int
    BASE_URL_FIELD_NUMBER: builtins.int
    ACTION_FIELD_NUMBER: builtins.int
    DECISION_FIELD_NUMBER: builtins.int
    BEFORE_STATE_FIELD_NUMBER: builtins.int
    AFTER_STATE_FIELD_NUMBER: builtins.int
    PLAYWRIGHT_TRACE_FIELD_NUMBER: builtins.int
    DOMAIN_FIELD_NUMBER: builtins.int
    BROWSER_GYM_ACTION_FIELD_NUMBER: builtins.int
    AGENT_STATE_FIELD_NUMBER: builtins.int
    id: builtins.str
    """the ID of the action generated as a random hash (uuid.uuid4()[:SOME_CUTOFF])"""
    base_url: builtins.str
    """the URL where the action was taken; deprecated in favor of domain"""
    playwright_trace: builtins.bytes
    """the trace of the action, encoded by python pickle.dumps(trace)"""
    domain: builtins.str
    """the domain name of the URL where the action was taken"""
    @property
    def action(self) -> pb.v1alpha1.orbot_action_pb2.Action:
        """the action taken by the agent"""

    @property
    def decision(self) -> global___Decision:
        """the decision made by the agent; deprecated in favor of agent_state"""

    @property
    def before_state(self) -> global___WebState:
        """the state of the page before the action"""

    @property
    def after_state(self) -> global___WebState:
        """the state of the page after the action"""

    @property
    def browser_gym_action(self) -> global___BrowserGymAction:
        """the raw representation of an action from BrowserGym"""

    @property
    def agent_state(self) -> global___AgentState:
        """the state of the agent after the action"""

    def __init__(
        self,
        *,
        id: builtins.str = ...,
        base_url: builtins.str = ...,
        action: pb.v1alpha1.orbot_action_pb2.Action | None = ...,
        decision: global___Decision | None = ...,
        before_state: global___WebState | None = ...,
        after_state: global___WebState | None = ...,
        playwright_trace: builtins.bytes = ...,
        domain: builtins.str = ...,
        browser_gym_action: global___BrowserGymAction | None = ...,
        agent_state: global___AgentState | None = ...,
    ) -> None: ...
    def HasField(
        self,
        field_name: typing.Literal[
            "action",
            b"action",
            "after_state",
            b"after_state",
            "agent_state",
            b"agent_state",
            "before_state",
            b"before_state",
            "browser_gym_action",
            b"browser_gym_action",
            "decision",
            b"decision",
        ],
    ) -> builtins.bool: ...
    def ClearField(
        self,
        field_name: typing.Literal[
            "action",
            b"action",
            "after_state",
            b"after_state",
            "agent_state",
            b"agent_state",
            "base_url",
            b"base_url",
            "before_state",
            b"before_state",
            "browser_gym_action",
            b"browser_gym_action",
            "decision",
            b"decision",
            "domain",
            b"domain",
            "id",
            b"id",
            "playwright_trace",
            b"playwright_trace",
        ],
    ) -> None: ...

global___ActionData = ActionData

@typing.final
class Decision(google.protobuf.message.Message):
    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    METHOD_FIELD_NUMBER: builtins.int
    HIGH_LEVEL_TASK_FIELD_NUMBER: builtins.int
    LOW_LEVEL_TASK_FIELD_NUMBER: builtins.int
    ACTION_DESCRIPTION_FIELD_NUMBER: builtins.int
    NL_OUTPUT_FIELD_NUMBER: builtins.int
    FAILED_DECISIONS_FIELD_NUMBER: builtins.int
    ACTION_FIELD_NUMBER: builtins.int
    method: builtins.str
    """the method used to make the decision (heuristic, agentic, etc.)"""
    high_level_task: builtins.str
    """the high-level task that the decision is made for"""
    low_level_task: builtins.str
    """the low-level task that the decision is made for"""
    action_description: builtins.str
    """the description of the action that the decision is made for"""
    nl_output: builtins.str
    """the natural language output of the agent"""
    @property
    def failed_decisions(
        self,
    ) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.str]:
        """the list of failed decisions that the agent made THIS TURN"""

    @property
    def action(self) -> pb.v1alpha1.orbot_action_pb2.Action:
        """the action that the agent decided to take"""

    def __init__(
        self,
        *,
        method: builtins.str = ...,
        high_level_task: builtins.str = ...,
        low_level_task: builtins.str = ...,
        action_description: builtins.str = ...,
        nl_output: builtins.str = ...,
        failed_decisions: collections.abc.Iterable[builtins.str] | None = ...,
        action: pb.v1alpha1.orbot_action_pb2.Action | None = ...,
    ) -> None: ...
    def HasField(
        self, field_name: typing.Literal["action", b"action"]
    ) -> builtins.bool: ...
    def ClearField(
        self,
        field_name: typing.Literal[
            "action",
            b"action",
            "action_description",
            b"action_description",
            "failed_decisions",
            b"failed_decisions",
            "high_level_task",
            b"high_level_task",
            "low_level_task",
            b"low_level_task",
            "method",
            b"method",
            "nl_output",
            b"nl_output",
        ],
    ) -> None: ...

global___Decision = Decision
